(this.webpackJsonpcovid19=this.webpackJsonpcovid19||[]).push([[0],{32:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),i=a.n(o),c=a(3),s=a(4),u=a(6),l=a(5),d=a(11),p=a(27),h=a.n(p),f=a(7),v=a.n(f),m=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).chartRef=r.a.createRef(),e.updateChart=function(t){if(e.props.countriesData.length>0){t.data.labels=v.a.uniq(e.props.countriesData[0].confirmed.map((function(e){return e.Date.substr(0,10)})));var a=e.props.countriesData[e.props.countriesData.length-1],n="#000000".replace(/0/g,(function(){return(~~(16*Math.random())).toString(16)}));t.data.datasets=[].concat(Object(d.a)(t.data.datasets),[{label:"".concat((r=a.country,"string"!==typeof r?"":r.charAt(0).toUpperCase()+r.slice(1))),data:a.confirmed.map((function(e){return e.Cases})),pointRadius:2.5,borderColor:n}]),t.data.datasets=v.a.uniqBy(t.data.datasets,(function(e){return e.label}))}var r;t.update()},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.chartReference=this.initChart(),this.chartReference.legend.display=!1,this.updateChart(this.chartReference)}},{key:"componentDidUpdate",value:function(e){this.props.countriesData.length!=e.countriesData.length&&this.updateChart(this.chartReference)}},{key:"initChart",value:function(){var e=this.chartRef.current.getContext("2d");return new h.a(e,{type:"line",options:{legend:{labels:{boxWidth:5,usePointStyle:!0}},scales:{xAxes:[{ticks:{},gridLines:{display:!1}}],yAxes:[{gridLines:{display:!1}}]}}})}},{key:"render",value:function(){return r.a.createElement("div",{className:"ui container",style:{background:"white",borderRadius:"0.5em",padding:"2em"}},r.a.createElement("canvas",{id:"myChart",ref:this.chartRef}))}}]),a}(n.Component),y=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderCountries=function(){return e.props.availableCountries&&e.props.availableCountries.sort((function(e,t){var a=e.Country.toUpperCase(),n=t.Country.toUpperCase();return a<n?-1:a>n?1:0})),v.a.uniq(e.props.availableCountries).sort().map((function(e,t){return r.a.createElement("option",{value:e.Country,key:"".concat(e.Slug).concat(t)},e.Country)}))},e}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("select",{onChange:function(t){void 0===e.props.countriesData.find((function(e){return e.country===t.target.value}))&&e.props.onChange(!0,t.target.value)},style:{marginBottom:"1em",borderRadius:"0.5em"},className:"ui fluid search dropdown"},this.renderCountries(),r.a.createElement("option",{value:""},"Select a Country"))}}]),a}(n.Component),g=a(10),b=a(8),C=a.n(b),E=a(29),O=a(15),D=a(30),A=a.n(D).a.create({baseURL:"https://api.covid19api.com/"}),w=function(e){Object(u.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onChange=function(t,a){return e.loading=t,e.props.getCountryData(a)},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.props.getAvailableCountries()}},{key:"renderChart",value:function(){return this.loading&&0===this.props.countriesData.length?(console.log(this.loading),r.a.createElement("div",{style:{color:"white",fontWeight:"bold"}},"Loading")):0!==this.props.countriesData.length?r.a.createElement(m,{countriesData:this.props.countriesData}):r.a.createElement("div",{style:{color:"white",fontWeight:"bold"}},r.a.createElement("h3",null,"Select countries and compare data accross countries."),r.a.createElement("p",null,"APIs provided by api.covid19api.com"))}},{key:"renderAdditionalInfo",value:function(){if(0!==this.props.countriesData.length)return r.a.createElement("div",{style:{color:"white"}},r.a.createElement("ul",null,r.a.createElement("div",{style:{fontWeight:"bold"}},"Features"),r.a.createElement("li",null,"Redux-Thunk used as a middleware to handle asyn funtions in redux."),r.a.createElement("li",null,"Includes conditional check to prevent additional API calls")))}},{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"ui",style:{background:"#11264b",minHeight:"100vh",padding:"1em"}},r.a.createElement("h3",{style:{color:"white",fontWeight:"bold",textAlign:"center",marginBottom:"1em"}},"Covid 19 Cases Chart built with ",r.a.createElement("br",null),"React, Redux, Express, Redux-Thunk, ChartJs")," ",r.a.createElement("br",null),r.a.createElement("div",{style:{maxWidth:"800px",margin:"auto"}},r.a.createElement(y,{availableCountries:this.props.availableCountries,countriesData:this.props.countriesData,onChange:this.onChange}),this.renderChart(),this.renderAdditionalInfo()))}}]),a}(n.Component),j=Object(g.b)((function(e){return{availableCountries:e.availableCountries,countriesData:e.countriesData}}),{getCountryData:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"confirmed";return function(){var a=Object(O.a)(C.a.mark((function a(n,r){var o;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A.get("/total/country/".concat(e,"/status/").concat(t,"?from=2020-01-01T00:00:00Z&to=2020-05-30T00:00:00Z"));case 2:o=a.sent,n({type:"GET_COUNTRY_DATA",payload:Object(E.a)({country:e},t,o.data)});case 4:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},getAvailableCountries:function(){return function(){var e=Object(O.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.get("https://api.covid19api.com/countries");case 2:a=e.sent,t({type:"GET_AVAILABLE_COUNTRIES",payload:a.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(w),R=a(2),k=Object(R.c)({countriesData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_COUNTRY_DATA":return[].concat(Object(d.a)(e),[t.payload]);default:return e}},availableCountries:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_AVAILABLE_COUNTRIES":return t.payload;default:return e}}}),x=a(31),T=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||R.d,_=Object(R.e)(k,T(Object(R.a)(x.a)));i.a.render(r.a.createElement(g.a,{store:_},r.a.createElement(j,null)),document.querySelector("#root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.75e53e6a.chunk.js.map